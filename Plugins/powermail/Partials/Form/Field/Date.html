{namespace vh=In2code\Powermail\ViewHelpers}

<div id="powermail_fieldwrap_{field.uid}" class="powermail_fieldwrap powermail_fieldwrap_date powermail_fieldwrap_{field.uid} {field.css}" data-labelposition="{f:if(condition:'{field.labelposition}',then:'{field.labelposition}',else:'default')}">
	<f:switch expression="{field.labelposition}">
		<f:case value="bottom">
			<f:form.textfield
						type="{field.datepickerSettingsOptimized}"
						id="powermail_field_{field.marker}"
						property="{field.marker}"
						value="{vh:Misc.PrefillField(field:field)}"
						additionalAttributes="{vh:Validation.DatepickerDataAttribute(field:field, value:'{vh:Misc.PrefillField(field:field)}')}"
						class="powermail_field powermail_date {vh:Validation.ErrorClass(field:field, class:'powermail_field_error')}" />
			<label for="powermail_field_{field.marker}" class="powermail_label" title="{field.description}">
				<vh:string.RawAndRemoveXss>{field.title}</vh:string.RawAndRemoveXss><f:if condition="{field.mandatory}"><span class="mandatory">*</span></f:if>
			</label>
		</f:case>
		<f:case value="hide">
			<f:form.textfield
						type="{field.datepickerSettingsOptimized}"
						id="powermail_field_{field.marker}"
						property="{field.marker}"
						value="{vh:Misc.PrefillField(field:field)}"
						additionalAttributes="{vh:Validation.DatepickerDataAttribute(field:field, value:'{vh:Misc.PrefillField(field:field)}')}"
						class="powermail_field powermail_date {vh:Validation.ErrorClass(field:field, class:'powermail_field_error')}" />
		</f:case>
		<f:case default="TRUE">
			<label for="powermail_field_{field.marker}" class="powermail_label" title="{field.description}">
				<vh:string.RawAndRemoveXss>{field.title}</vh:string.RawAndRemoveXss><f:if condition="{field.mandatory}"><span class="mandatory">*</span></f:if>
			</label>
			<f:form.textfield
						type="{field.datepickerSettingsOptimized}"
						id="powermail_field_{field.marker}"
						property="{field.marker}"
						value="{vh:Misc.PrefillField(field:field)}"
						additionalAttributes="{vh:Validation.DatepickerDataAttribute(field:field, value:'{vh:Misc.PrefillField(field:field)}')}"
						class="powermail_field powermail_date {vh:Validation.ErrorClass(field:field, class:'powermail_field_error')}" />
		</f:case>
	</f:switch>
</div>